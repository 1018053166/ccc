webpackJsonp([0],{217:function(e,t,a){"use strict";function r(e){a(263)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(229),o=a(251),n=a(27),l=r,s=n(i.a,o.a,!1,l,"data-v-213da88e",null);t.default=s.exports},229:function(e,t,a){"use strict";var r=a(233),i=a.n(r),o=a(86),n=a.n(o);t.a={data:function(){return{members:[],temp:{from:"",companyname:"",email:"",enode:"",owner:"",remark:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},rules:{from:[{required:!0,message:"from is required",trigger:"change"}],companyname:[{required:!0,message:"companyname is required",trigger:"blur"}],email:[{required:!0,message:"email is required",trigger:"blur"}],enode:[{required:!0,message:"enode is required",trigger:"blur"}],owner:[{required:!0,message:"owner is required",trigger:"blur"}],remark:[{required:!0,message:"remark is required",trigger:"blur"}]}}},methods:{queryList:function(){var e=this;this.axios("/api/company").then(function(t){e.members=t.data})},resetTemp:function(){this.temp={from:"",companyname:"",email:"",enode:"",owner:"",remark:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick(function(){e.$refs.dataForm.clearValidate()})},createData:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.axios.post("/api/v1",{source:"ccc",method:"add",argv:{_from:e.temp.from,_companyname:e.temp.companyname,_email:e.temp.email,_enode:e.temp.enode,_address:e.temp.owner,_remark:e.temp.remark}}).then(function(t){console.log(t),e.dialogFormVisible=!1,e.$notify({title:"成功",message:"创建成功",type:"success",duration:2e3})})})},handleUpdate:function(e){var t=this;this.temp=n()({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick(function(){t.$refs.dataForm.clearValidate()})},updateData:function(){var e=this;this.$refs.dataForm.validate(function(t){if(t){var a=n()({},e.temp);a.timestamp=+new Date(a.timestamp),updateArticle(a).then(function(){var t=!0,a=!1,r=void 0;try{for(var o,n=i()(e.list);!(t=(o=n.next()).done);t=!0){var l=o.value;if(l.id===e.temp.id){var s=e.list.indexOf(l);e.list.splice(s,1,e.temp);break}}}catch(e){a=!0,r=e}finally{try{!t&&n.return&&n.return()}finally{if(a)throw r}}e.dialogFormVisible=!1,e.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})})}})}},mounted:function(){this.queryList()}}},233:function(e,t,a){e.exports={default:a(234),__esModule:!0}},234:function(e,t,a){a(88),a(87),e.exports=a(237)},235:function(e,t,a){var r=a(51),i=a(8)("toStringTag"),o="Arguments"==r(function(){return arguments}()),n=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,a,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=n(t=Object(e),i))?a:o?r(t):"Object"==(l=r(t))&&"function"==typeof t.callee?"Arguments":l}},236:function(e,t,a){var r=a(235),i=a(8)("iterator"),o=a(29);e.exports=a(14).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},237:function(e,t,a){var r=a(19),i=a(236);e.exports=a(14).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},239:function(e,t,a){t=e.exports=a(18)(void 0),t.push([e.i,"",""])},251:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("申请POA")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.members}},[a("el-table-column",{attrs:{prop:"companyid",label:"ID",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyname",label:"公司名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"email"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"owner",label:"所有者地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stat",label:"状态"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.handleUpdate(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"来自",prop:"from"}},[a("el-input",{model:{value:e.temp.from,callback:function(t){e.$set(e.temp,"from",t)},expression:"temp.from"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"公司名",prop:"companyname"}},[a("el-input",{model:{value:e.temp.companyname,callback:function(t){e.$set(e.temp,"companyname",t)},expression:"temp.companyname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{model:{value:e.temp.email,callback:function(t){e.$set(e.temp,"email",t)},expression:"temp.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点信息",prop:"enode"}},[a("el-input",{model:{value:e.temp.enode,callback:function(t){e.$set(e.temp,"enode",t)},expression:"temp.enode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所有者",prop:"owner"}},[a("el-input",{model:{value:e.temp.owner,callback:function(t){e.$set(e.temp,"owner",t)},expression:"temp.owner"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"Please input"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),"create"==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.createData}},[e._v("确认")]):a("el-button",{attrs:{type:"primary"},on:{click:e.updateData}},[e._v("确认")])],1)],1)],1)},i=[],o={render:r,staticRenderFns:i};t.a=o},263:function(e,t,a){var r=a(239);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(28)("b9a56552",r,!0,{})}});
//# sourceMappingURL=0.js.map?9402a0ecf7175dad974f